@page "/{Country}/Institution/View/{Id}"

@using Clinical_Trials_Adverse_Events_Reporting_System.Entities
@using Clinical_Trials_Adverse_Events_Reporting_System.Data

@inject InstitutionRepository institutionRepository
@inject NavigationManager NavigationManager


@if (institution is null)
{

}

else
{
<form>
    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Institution Name</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.Name" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Institution Type</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.InstitutionType.Name" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Address</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.Address" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Phone</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.Phone" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Fax</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.Fax" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Email</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.Email" readonly />
        </div>
    </div>


    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Alternate Address</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.AlternateAddress" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Alternate Phone</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.AlternatePhone" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Alternate Fax</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.AlternateFax" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Alternate Email</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.AlternateEmail" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">City</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.City" readonly />
        </div>
    </div>

    <div class="form-group row">
        <label class="col-sm-2 col-form-label">Registration Number</label>
        <div class="col-sm-10">
            <input type="text" class="form-control" @bind="institution.RegNo" readonly />
        </div>
    </div>

    <div class="col-md-12 text-center">
        <button type="button" class="btn btn-danger btn-lg btn-block" @onclick="Cancel">Cancel</button>
    </div>
</form>

}


@code {
    [Parameter]
    public string Country { get; set; }
    [Parameter]
    public string Id { get; set; }

    public Institution institution { get; set; }

    protected override async Task OnInitializedAsync()
    {
        institution = await Task.Run(() => institutionRepository.GetById(Convert.ToInt32(Id)));
    }

    private void Cancel()
        {
            NavigationManager.NavigateTo($"{Country}/Institution/Index");
        }
}
